# パーツ一覧ページ：ユーザーストーリー（原作ペイン前提込み）

## Epic：パーツを探索して組み合わせを考えたい

プレイヤーは、原作ゲームでは実現できなかった「条件による探索」と「視覚的比較」を通して、
より効率的に自分のビルド方針に合うパーツを発見できる。

---

### Story 1：スロットを選んで対象パーツを探索したい

**As a** プレイヤー  
**I want to** 最初にスロットを選択して、そのスロットに該当するパーツのみを一覧で見たい  
**So that** 無関係な情報を省き、効率的に探索できる  

**Context**  
原作ではスロットごとに画面遷移が必要で、一覧性が低かった。

**Acceptance Criteria**

- スロット選択後、一覧にはそのスロットのパーツのみ表示される  
- スロット未選択状態は存在しない（初期表示で必ず1スロットが選ばれている）  
- スロット切替で、一覧・フィルタ・お気に入りが文脈ごとに切り替わる  

---

### Story 2：スロットごとの属性で絞り込みたい

**As a** プレイヤー  
**I want to** 当該スロットに存在する任意の属性を条件にして絞り込みたい  
**So that** 原作ではできなかった「条件検索」で効率的に候補を見つけられる  

**Context**  
原作では並び替えは存在するが、フィルタリング機能は存在しない。  
この機能により、探索時間を大幅に短縮できる。

**Acceptance Criteria**

- スロットごとに意味のある属性だけがフィルタ項目として提示される  
- フィルタ適用時、該当しないパーツは非表示になる  
- 属性を持たないパーツはフィルタ対象外として扱われる  
- 0件になった場合、結果が0件であることが明示される  

---

### Story 3：スロットごとの属性で並び替えたい

**As a** プレイヤー  
**I want to** 選択中スロットで意味を持つ属性を基準に並び替えたい  
**So that** 原作と同じようにパーツを整理しつつ、より高精度な探索ができる  

**Context**  
原作の体験を踏襲しつつ、並び替えとフィルタリングを組み合わせる新しい探索体験を提供する。

**Acceptance Criteria**

- 並び替え対象はスロットの属性に限定される  
- 並び替え時、属性未定義のパーツは序列外（末尾など）に位置する  
- 並び替えはURL・状態として保持され、リロード後も再現される  

---

### Story 4：お気に入りで探索を整理したい

**As a** プレイヤー  
**I want to** 気になったパーツをお気に入りに登録し、後からお気に入りだけで絞り込みたい  
**So that** 原作の「メモ」や「比較の記憶」をUIで補完できる  

**Acceptance Criteria**

- お気に入りはスロット単位で管理される  
- フィルタ条件として「お気に入り」を指定できる  
- スロットを切り替えると、お気に入り集合もスロットごとに切り替わる  

---

### Story 5：フィルタ済み結果をアセンページへ渡したい

**As a** プレイヤー  
**I want to** フィルタで絞り込んだ母集団をアセンページに渡し、その範囲でビルドを組みたい  
**So that** 絞り込みの文脈を維持したまま、ビルドを試行錯誤できる  

**Acceptance Criteria**

- 一覧ページで確定したフィルタ結果をスロットごとにアセンページへ渡せる  
- アセンページでは、渡された母集団のみが選択肢となる  
- アセンページに遷移してもフィルタ条件の内容は保持される  

---

### Story 6：探索状態を保存・共有したい

**As a** プレイヤー  
**I want to** 現在のフィルタ・並び順・スロット状態をURLとして共有したい  
**So that** 他プレイヤーに自分の探索条件を見せ、ビルド議論ができる  

**Context**  
原作ではビルドや条件の共有にはスクリーンショットや手打ちが必要だった。  
この機能により、URLひとつで再現可能な探索・議論が可能になる。

**Acceptance Criteria**

- URLにスロット・フィルタ条件・並び順などが含まれる  
- 共有されたURLを開くと、同じ状態で一覧が再現される  
- URL共有は条件式（クエリ）単位で行われる（結果スナップショットは含まない）  

---

### Story 7：探索を中断しても再開したい

**As a** プレイヤー  
**I want to** 一度設定したフィルタやスロット状態を再訪時に復元したい  
**So that** 原作では不可能だった「継続的なビルド検討」を行える  

**Acceptance Criteria**

- ローカル保存によって前回の状態を自動復元できる  
- URLとローカルの状態が競合した場合、URLを優先する  

---

### Story 8：ゼロ件時にも操作を継続したい

**As a** プレイヤー  
**I want to** フィルタ結果が0件でもスロットや主要条件をそのまま操作したい  
**So that** 条件を調整しながら探索を続けられる  

**Acceptance Criteria**

- 0件時でもスロット選択・主要条件変更が可能  
- 0件であることが明示される  
- 条件緩和のヒントは任意  

---

### Story 9：スロット切替時に混乱しないようにしたい

**As a** プレイヤー  
**I want to** スロットを切り替えたとき、どの条件が引き継がれ、どれが無効化されたかを理解したい  
**So that** 自分の探索文脈を見失わずに済む  

**Acceptance Criteria**

- 切替後、新スロットで意味を持つ条件のみ引き継がれる  
- 無効化された条件はUI上で明示される（エラー扱いではない）  
- 切替により0件になっても操作を継続できる  

---

## 非機能的な共通受け入れ基準

- モバイル操作で視認性・タップ操作性が確保されている  
- 状態保持（URL／ローカル）は即時反映される  
- 不整合（例：ドメイン制約違反）はエラーにせず、アセンページで自然に制約される  
- ロード中・0件などの状態は明確に示される  
- 原作プレイヤーが「これはAC6の探索を拡張している」と感じられる操作性である
